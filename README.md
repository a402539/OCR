Распознавание текста
================

Сборка
------

Для сборки требуется `NodeJS`.

Предварительно нужно установить jake (глобально) и другие зависимости плагина:
```
npm install -g jake
npm install
```

Для сборки production версии выполнить команду
```
jake
```

В папке `dist` появятся файлы `textExtract.js` и `textExtract-src.js`. Не нужно коммитить эти файлы в репозиторий!

Для сборки версии для разработки (динамически подключающую все исходные файлы) выполнить команду

```
jake dev
```

Для корректной сборки нужно поддерживать актуальным файл со списком исходников (`build/deps.js`). Сборку для разработки нужно выполнять при каждом изменении этого списка.

При добавлении модуля *.js
1. Прописать его в файле build/deps.js
2. Из папки OCR запустить команду jake dev

Алгоритм выделения символов

Имеется двумерная таблица с булевыми элементами. Истина означает черную точку, Ложь - белую.
Две черные точки являются соседними, если их обе координаты отличются не больше чем на единицу.
Множество точек связное, если любые две точки могут быть связаны последовательностью соседних точек.
Это связное множество черных точек максимальное, если к нему нельзя добавить черную точку, соседнюю к одной из точек множества.

Символ - максимальное связное множество черных точек.

Задача: Найти все символы в двумерной таблице.

Решение.
Первоначально множество символов пусто.
Обходим точки построчно, слева направо, сверху вниз.

Для каждой очередной точки:
1. Если она белая, продолжить
2. Если она черная, определяем, к какому символу ее отнести
Для этого проверяем три соседние точки сверху и соседнюю точку слева.
2.1. Среди них есть черные точки из разных символов 
     (это возможно только в случае, когда одна из левых точек (или обе) и правая верхняя точки относятся к разным символам)
  2.1.1. Относим все точки второго символа к первому символу и второй символ удаляем
  2.1.2. Относим текущую точку к первому символу
2.2. Среди них есть черные точки, но все они отнесены к одному символу
  Относим текущую точку к этому символу
2.3. Среди них черных точек нет
  Создаем новый символ и относим к нему текущую точку
  2.1.2. Вс
2.1.1. Точка справа вверху тоже черная
1. 10